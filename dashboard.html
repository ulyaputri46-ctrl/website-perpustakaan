{% extends "base.html" %}
{% block title %}Dashboard - Perpustakaan Cloud{% endblock %}
{% block content %}
<style>
  body {
    background: linear-gradient(135deg, #ffe3ec, #ffd6e0, #fce1ef, #ffeaf4);
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
  }

  .dashboard-container {
    background: rgba(255, 255, 255, 0.9);
    max-width: 900px;
    margin: 60px auto;
    border-radius: 20px;
    padding: 40px 50px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    backdrop-filter: blur(15px);
    animation: fadeIn 0.7s ease-in-out;
  }

  h2 {
    color: #f55e90;
    font-weight: 700;
    margin-bottom: 25px;
    text-align: center;
  }

  .btn-success {
    background-color: #f77fb4;
    border: none;
    transition: all 0.3s ease;
    border-radius: 10px;
  }

  .btn-success:hover {
    background-color: #f55e90;
    transform: translateY(-2px);
  }

  .btn-danger {
    background-color: #ff809c;
    border: none;
    border-radius: 10px;
    transition: 0.3s ease;
  }

  .btn-danger:hover {
    background-color: #f55e90;
  }

  .btn-warning {
    background-color: #ffcc80;
    border: none;
    color: #444;
    border-radius: 10px;
  }

  .table {
    background: #fff;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
  }

  .table thead {
    background: linear-gradient(90deg, #fcbad3, #fce1ef);
    color: #444;
    font-weight: 600;
  }

  .table tbody tr:hover {
    background-color: #fff3f6;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<div class="dashboard-container">
  <h2>Selamat datang, {{ user }}</h2>

  <div class="d-flex justify-content-between mb-4">
    <a href="{{ url_for('add_book') }}" class="btn btn-success">+ Tambah Buku</a>
    <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
  </div>

  <table class="table table-bordered text-center align-middle">
    <thead>
      <tr>
        <th>Judul</th>
        <th>Penulis</th>
        <th>Tahun</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody>
      {% for b in books %}
      <tr>
        <td>{{ b.judul }}</td>
        <td>{{ b.penulis }}</td>
        <td>{{ b.tahun }}</td>
        <td>
          <a href="{{ url_for('edit_book', id=b.id) }}" class="btn btn-warning btn-sm">Edit</a>
          <a href="{{ url_for('delete_book', id=b.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('Hapus buku ini?')">Hapus</a>
        </td>
      </tr>
      {% else %}
      <tr><td colspan="4" class="text-center text-muted">Belum ada buku</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
